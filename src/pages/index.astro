---
import "../styles/global.css";
import Layout from "../layouts/Layout.astro";
import FichaProfesor from '../components/IntroductionOfTeachers.astro'; 
import TeacherCard from "../components/TeacherCard.astro";
import SearchInput from "../components/SearchInput.astro";
import CardExam from "../components/CardExam.astro";

const alexisGarayData = {
    id: "alexis",
    nombre: "Alexis Garay",
    puntuacion: 4.5,
    imagenSrc: "/img/teacher.png",
    descripcion: "fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Pellentesque laoreet molestie gravida nisl. Integer senectus. Pellentesque laoreet molestie gravida nisl. Integer senectus.",
    cursos: ["Álgebra Lineal", "Cálculo Diferencial", "Física II"],
    estadisticas: {
        Didáctica: 4.0,
        Dificultad: 4.4,
        Material: 3.7,
        'Justo al evaluar': 3.1,
        Responsabilidad: 3.4
    },
    comentarios: [
        { anonimo: "Anónimo 1", texto: "Lorem ipsum dolor sit amet, consectetur adipiscing elit sodales blandit, porta a pellentesque laoreet molestie gravida nisl." },
        { anonimo: "Anónimo 2", texto: "consectetur adipiscing elit sodales blandit, porta a pellentesque laoreet molestie gravida nisl." }
    ]
};

// Datos de ejemplo para las grillas de Planchas
const planchasPopulares = [
  { evaluacion: "PC1", ciclo: "2024-II", profesor: "Cálculo Diferencial", tieneSolucion: true },
  { evaluacion: "PC2", ciclo: "2024-I", profesor: "Álgebra Lineal", tieneSolucion: false },
  { evaluacion: "Parcial", ciclo: "2023-II", profesor: "Física II", tieneSolucion: true },
];

const planchasNuevas = [
  { evaluacion: "PC1", ciclo: "2024-II", profesor: "Química I", tieneSolucion: true },
  { evaluacion: "PC2", ciclo: "2024-I", profesor: "Estática", tieneSolucion: true },
  { evaluacion: "Final", ciclo: "2023-II", profesor: "Economía", tieneSolucion: false },
];
---

<Layout title="TrikaWeb">
  <div class="flex min-h-screen w-full flex-col items-center gap-12">

      <!-- Header now comes from Layout via <SiteHeader /> -->

      <section class="mx-auto grid max-w-[1200px] grid-cols-1 items-center gap-10 rounded-[40px] border-2 border-global-surface bg-global-surface px-8 py-12 md:grid-cols-2 md:gap-[140px] md:px-40 md:py-20">
        <div class="flex flex-col items-center gap-8 md:items-start md:px-4">
          <h1 class="max-w-[383px] text-3xl md:text-[40px] leading-tight font-bold text-global-text text-center md:text-left">
            ¿Planchas y reseñas de profes?
            Todo en un solo lugar.
          </h1>
          <p class="max-w-[383px] text-base leading-6 text-global-text-muted text-center md:text-left">
            La experiencia de generaciones, organizada para que estudies mejor y evites la trika.
          </p>
        </div>

        <div class="flex items-center justify-center">
          <img
            src="/img/mascota.png"
            alt="Mascota Trika"
            class="h-auto w-auto max-w-[257px]"
            loading="lazy"
            decoding="async"
          />
        </div>
      </section>

<!--SECCIÓN DE PLANCHAS -->

  <section class="mx-auto flex w-full max-w-[1200px] flex-col items-center gap-9 rounded-2xl bg-global-surface px-4 sm:px-10 py-16">

        <div class="flex w-full flex-col md:flex-row items-center gap-8">
          
          <div class="w-full md:w-[118px] text-center md:text-left">
            <h2 class="text-[32px] leading-10 font-semibold">Planchas</h2>
          </div>
          
          <div class="flex w-full flex-1 justify-center md:justify-end">
            
            <SearchInput placeholder="Ingresa el curso..." className="w-full max-w-[400px]" />
          </div>
        </div>

        <div class="flex flex-col md:flex-row items-center gap-8 w-full mt-8">

          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 w-full flex-1">
            {planchasPopulares.map((p) => (
              <CardExam evaluacion={p.evaluacion} ciclo={p.ciclo} profesor={p.profesor} tieneSolucion={p.tieneSolucion} />
            ))}

          </div>
                    <div class="w-full md:w-[118px] text-center">
            <h3 class="text-[24px] leading-8 font-medium">Planchas más populares</h3>
          </div>
        </div>

        <div class="flex flex-col md:flex-row items-center gap-8 w-full mt-8">
          

          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 flex-1">
            {planchasNuevas.map((p) => (
              <CardExam evaluacion={p.evaluacion} ciclo={p.ciclo} profesor={p.profesor} tieneSolucion={p.tieneSolucion} />
            ))}
          </div>
          <div class="w-full md:w-[118px] text-center">
            <h3 class="text-[24px] leading-8 font-medium">Planchas más populares</h3>
          </div>
        </div>
        
      </section>

<!--Sección de profesores -->

  <section class="mx-auto flex w-full max-w-[1200px] flex-col items-center gap-6 rounded-2xl bg-global-surface px-6 sm:px-12 md:px-16 py-16">
        <div class="flex w-full items-center justify-between flex-wrap gap-4 px-2 sm:px-0">
          <h2 class="text-[32px] leading-10 font-semibold">Profesores</h2>
        <SearchInput placeholder="Busca a tu profesor..." className="flex-1 max-w-[400px]" />
        </div>

        <!-- CONTENEDOR DE CARDS DE PROFESORES: GRID RESPONSIVO -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 w-full mt-6 px-4 sm:px-0">
          <TeacherCard name="Alexis Garay" role="Profesor" rating={4} avatarSrc="/img/teacher.png" openId="open-alexis" buttonLabel="Ver perfil" />
          <TeacherCard name="Profesor Genérico 2" role="Profesor" rating={2} avatarSrc="/img/teacher.png" href="/profesores" buttonLabel="Ver perfil" />
          <TeacherCard name="Profesor Genérico 3" role="Profesor" rating={0} avatarSrc="/img/teacher.png" href="/profesores" buttonLabel="Ver perfil" />
        </div>
      </section>

  <footer class="w-full bg-global-bg py-3 text-center text-[16px] leading-6">
        © {new Date().getFullYear()} TrikaWeb.
        Todos los derechos reservados.
      </footer>
    </div>

    <!-- INCLUIR EL COMPONENTE DEL MODAL -->
    <FichaProfesor {...alexisGarayData} />
  </Layout>